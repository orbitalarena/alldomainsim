{
  "metadata": {
    "name": "Strike Package vs IADS",
    "description": "Blue strike package with two F-16s and AWACS versus red integrated air defense system in the Middle East theater. Red IADS includes MiG-29 CAP, SA-20 SAM battery, and early warning radar.",
    "version": "2.0",
    "author": "Builder",
    "tags": ["strike", "iads", "sam", "ai", "middle-east"]
  },
  "environment": {
    "atmosphere": "us_standard_1976",
    "gravity": "j2",
    "maxTimeWarp": 64
  },
  "entities": [
    {
      "id": "strike_1",
      "name": "STRIKE 1 (Lead)",
      "type": "aircraft",
      "team": "blue",
      "initialState": {
        "lat": 29.0,
        "lon": 47.5,
        "alt": 6000,
        "speed": 250,
        "heading": 0,
        "gamma": 0,
        "throttle": 0.8,
        "engineOn": true,
        "gearDown": false,
        "infiniteFuel": true
      },
      "components": {
        "physics": {
          "type": "flight3dof",
          "config": "f16"
        },
        "control": {
          "type": "player_input",
          "config": "fighter"
        },
        "weapons": {
          "type": "fighter_loadout",
          "loadout": ["aim120", "aim120", "aim9", "aim9", "mk84", "mk84"]
        },
        "visual": {
          "type": "point",
          "color": "#4488ff",
          "pixelSize": 12,
          "trail": true
        }
      }
    },
    {
      "id": "strike_2",
      "name": "STRIKE 2 (Wingman)",
      "type": "aircraft",
      "team": "blue",
      "initialState": {
        "lat": 29.0,
        "lon": 47.65,
        "alt": 6000,
        "speed": 250,
        "heading": 0,
        "gamma": 0,
        "throttle": 0.8,
        "engineOn": true,
        "gearDown": false,
        "infiniteFuel": true
      },
      "components": {
        "physics": {
          "type": "flight3dof",
          "config": "f16"
        },
        "control": {
          "type": "ai"
        },
        "ai": {
          "type": "waypoint_patrol",
          "waypoints": [
            { "lat": 29.5, "lon": 47.65, "alt": 6000 },
            { "lat": 30.0, "lon": 47.65, "alt": 6000 },
            { "lat": 30.5, "lon": 47.65, "alt": 6000 },
            { "lat": 30.0, "lon": 47.65, "alt": 6000 }
          ],
          "loopMode": "cycle"
        },
        "weapons": {
          "type": "fighter_loadout",
          "loadout": ["aim120", "aim120", "aim9", "aim9", "mk84", "mk84"]
        },
        "visual": {
          "type": "point",
          "color": "#4488ff",
          "pixelSize": 12,
          "trail": true
        }
      }
    },
    {
      "id": "awacs_1",
      "name": "MAGIC (AWACS)",
      "type": "aircraft",
      "team": "blue",
      "initialState": {
        "lat": 28.5,
        "lon": 47.0,
        "alt": 10000,
        "speed": 200,
        "heading": 90,
        "gamma": 0,
        "throttle": 0.6,
        "engineOn": true,
        "gearDown": false,
        "infiniteFuel": true
      },
      "components": {
        "physics": {
          "type": "flight3dof",
          "config": "f16"
        },
        "control": {
          "type": "ai"
        },
        "ai": {
          "type": "waypoint_patrol",
          "waypoints": [
            { "lat": 28.5, "lon": 46.5, "alt": 10000 },
            { "lat": 28.5, "lon": 47.5, "alt": 10000 },
            { "lat": 28.5, "lon": 46.5, "alt": 10000 }
          ],
          "loopMode": "cycle"
        },
        "sensors": {
          "type": "radar",
          "maxRange_m": 300000,
          "fov_deg": 360,
          "scanRate_dps": 36,
          "detectionProbability": 0.95
        },
        "visual": {
          "type": "point",
          "color": "#44ccff",
          "pixelSize": 14,
          "trail": true
        }
      }
    },
    {
      "id": "red_mig_1",
      "name": "BANDIT 1 (MiG-29)",
      "type": "aircraft",
      "team": "red",
      "initialState": {
        "lat": 30.5,
        "lon": 47.3,
        "alt": 7000,
        "speed": 250,
        "heading": 180,
        "gamma": 0,
        "throttle": 0.7,
        "engineOn": true,
        "gearDown": false,
        "infiniteFuel": true
      },
      "components": {
        "physics": {
          "type": "flight3dof",
          "config": "mig29"
        },
        "control": {
          "type": "ai"
        },
        "ai": {
          "type": "waypoint_patrol",
          "waypoints": [
            { "lat": 30.5, "lon": 47.2, "alt": 7000 },
            { "lat": 30.8, "lon": 47.5, "alt": 7000 },
            { "lat": 30.5, "lon": 47.8, "alt": 7000 },
            { "lat": 30.2, "lon": 47.5, "alt": 7000 }
          ],
          "loopMode": "cycle"
        },
        "sensors": {
          "type": "radar",
          "maxRange_m": 100000,
          "fov_deg": 120,
          "scanRate_dps": 60,
          "detectionProbability": 0.85
        },
        "weapons": {
          "type": "fighter_loadout",
          "loadout": ["r73", "r73", "r77", "r77"]
        },
        "visual": {
          "type": "point",
          "color": "#ff4444",
          "pixelSize": 12,
          "trail": true
        }
      }
    },
    {
      "id": "red_mig_2",
      "name": "BANDIT 2 (MiG-29)",
      "type": "aircraft",
      "team": "red",
      "initialState": {
        "lat": 30.6,
        "lon": 47.7,
        "alt": 7500,
        "speed": 250,
        "heading": 270,
        "gamma": 0,
        "throttle": 0.7,
        "engineOn": true,
        "gearDown": false,
        "infiniteFuel": true
      },
      "components": {
        "physics": {
          "type": "flight3dof",
          "config": "mig29"
        },
        "control": {
          "type": "ai"
        },
        "ai": {
          "type": "waypoint_patrol",
          "waypoints": [
            { "lat": 30.6, "lon": 47.7, "alt": 7500 },
            { "lat": 30.9, "lon": 47.4, "alt": 7500 },
            { "lat": 30.6, "lon": 47.1, "alt": 7500 },
            { "lat": 30.3, "lon": 47.4, "alt": 7500 }
          ],
          "loopMode": "cycle"
        },
        "sensors": {
          "type": "radar",
          "maxRange_m": 100000,
          "fov_deg": 120,
          "scanRate_dps": 60,
          "detectionProbability": 0.85
        },
        "weapons": {
          "type": "fighter_loadout",
          "loadout": ["r73", "r73", "r77", "r77"]
        },
        "visual": {
          "type": "point",
          "color": "#ff4444",
          "pixelSize": 12,
          "trail": true
        }
      }
    },
    {
      "id": "red_sam_sa20",
      "name": "SA-20 Battery",
      "type": "ground",
      "team": "red",
      "initialState": {
        "lat": 30.5,
        "lon": 47.8,
        "alt": 50
      },
      "components": {
        "sensors": {
          "type": "radar",
          "maxRange_m": 200000,
          "fov_deg": 360,
          "scanRate_dps": 36,
          "detectionProbability": 0.95
        },
        "weapons": {
          "type": "sam_battery",
          "maxRange_m": 150000,
          "engagementRules": "weapons_hold"
        },
        "visual": {
          "type": "ground_station",
          "color": "#ff4444",
          "label": "SA-20",
          "sensorRange_m": 150000,
          "sensorColor": "rgba(255,68,68,0.05)",
          "sensorOutlineColor": "#ff4444"
        }
      }
    },
    {
      "id": "red_ew_radar",
      "name": "EW Radar Site",
      "type": "ground",
      "team": "red",
      "initialState": {
        "lat": 30.0,
        "lon": 47.3,
        "alt": 120
      },
      "components": {
        "sensors": {
          "type": "radar",
          "maxRange_m": 300000,
          "fov_deg": 360,
          "scanRate_dps": 18,
          "detectionProbability": 0.90
        },
        "visual": {
          "type": "ground_station",
          "color": "#ff6644",
          "label": "EW Radar",
          "sensorRange_m": 300000,
          "sensorColor": "rgba(255,102,68,0.04)",
          "sensorOutlineColor": "#ff6644"
        }
      }
    },
    {
      "id": "gs_ali_al_salem",
      "name": "Ali Al Salem AB",
      "type": "ground",
      "team": "blue",
      "initialState": {
        "lat": 29.347,
        "lon": 47.521,
        "alt": 43
      },
      "components": {
        "visual": {
          "type": "ground_station",
          "color": "#4488ff",
          "label": "Ali Al Salem AB",
          "sensorRange_m": 50000,
          "sensorColor": "rgba(68,136,255,0.05)",
          "sensorOutlineColor": "#4488ff"
        }
      }
    }
  ],
  "events": [
    {
      "id": "evt_fence_in",
      "trigger": {
        "type": "proximity",
        "entityId": "strike_1",
        "targetId": "red_sam_sa20",
        "range_m": 200000,
        "condition": "closing"
      },
      "action": {
        "type": "message",
        "text": "FENCE IN: entering threat area",
        "level": "warning"
      },
      "once": true
    },
    {
      "id": "evt_sam_weapons_free",
      "trigger": {
        "type": "detection",
        "sensorEntityId": "red_sam_sa20",
        "targetEntityId": "strike_1"
      },
      "action": {
        "type": "change_rules",
        "entityId": "red_sam_sa20",
        "engagementRules": "weapons_free"
      },
      "once": true
    }
  ],
  "camera": {
    "mode": "free",
    "range": 300000
  }
}
